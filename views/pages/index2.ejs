
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Somu Palaniappan - DataViz Final Project</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
	<meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
	<meta name="author" content="FREEHTML5.CO" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic,700italic|Merriweather:300,400italic,300italic,400,700italic' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Simple Line Icons -->
	<link rel="stylesheet" href="css/simple-line-icons.css">
	<!-- Datetimepicker -->
	<link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css">
	<!-- Flexslider -->
	<link rel="stylesheet" href="css/flexslider.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<link rel="stylesheet" href="css/style.css">


	<!-- Modernizr JS -->
	<script src="https://d3js.org/d3.v4.js"></script>
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	<!-- customized charts for boxplot -->
	<script src="js/d3x.js"></script>
	<script src="js/d3plus.js"></script>


    <style>
      .axis text {
        font-family: 'Open Sans', sans-serif;
        font-size: 10pt;
		stroke: #FFFFFF;
      }
      .axis .label {
        font-size: 10pt;
      }

      .axis path, .axis line {
        fill: none;
        stroke: #FFFFFF;
        shape-rendering: crispEdges;
      }

      .x.axis text {
        font-size: 10pt;
		stroke: #FFFFFF;
      }
	  
    /* #tooltip {
    position: absolute;
	text-align: center;
    } */
	
	/* #tooltip2 {
	position: absolute;
	text-align: center;
    } */
    </style>
	</head>
	<body>
	<div id="fh5co-container">
		<div id="fh5co-home" class="js-fullheight" data-section="home">

			<div class="flexslider">
				
				<div class="fh5co-overlay"></div>
				<div class="fh5co-text">
					<div class="container">
						<div class="row">
							<h1 class="to-animate">DSTrend</h1>
							<h2 class="to-animate">CS498-Data Visuvalization Final Project <span>by</span> Somu Palaniappan</h2>
						</div>
					</div>
				</div>
			  	<ul class="slides">
			   	<li style="background-image: url(images/slide_1.jpg);" data-stellar-background-ratio="0.5"></li>
			   	<li style="background-image: url(images/slide_2.jpg);" data-stellar-background-ratio="0.5"></li>
			   	<li style="background-image: url(images/slide_3.jpg);" data-stellar-background-ratio="0.5"></li>
			  	</ul>

			</div>
			
		</div>
		
		<div class="js-sticky">
			<div class="fh5co-main-nav">
				<div class="container-fluid">
					<div class="fh5co-menu-1">
						<a href="#" data-nav-section="home">Home</a>
						<a href="#" data-nav-section="about">Project Details</a>
						<a href="#" data-nav-section="features">LCA Application Status</a>
					</div>
					<div class="fh5co-logo">
						<a href="index.html">DS Trend</a>
					</div>
					<div class="fh5co-menu-2">
						<a href="#" data-nav-section="menu">Top H1B Jobs</a>
						<a href="#" data-nav-section="events">DS Job Trends</a>
						<a href="#" data-nav-section="reservation">Top DS Job Recruiters</a>
					</div>
				</div>
				
			</div>
		</div>

		<div id="fh5co-about" data-section="about">
			<div class="fh5co-2col fh5co-bg to-animate-2" style="background-image: url(images/res_img_1.jpg)"></div>
			<div class="fh5co-2col fh5co-text">
				<h2 class="heading to-animate">Project Details</h2>
				<p class="to-animate"><span class="firstcharacter">T</span>he H-1B is an employment-based, non-immigrant visa category for temporary foreign workers in the United States. 
				Every year, the US immigration department receives over > 300,000 petitions and selects 85,000 applications through a random process. 
				The application data is available for public access to perform in-depth research and analysis. I utilized 2011-2016 H-1B petition disclosure data.</p>
				<p> The Office of Foreign Labor Certification (OFLC) generates Labor Condition Application (LCA) data that contains useful information about the immigration programs including the H1-B visa. 
				The disclosure data updated annually is available at </p>
				<p class="text-center to-animate"><a href="https://www.foreignlaborcert.doleta.gov/performancedata.cfm" class="btn btn-primary btn-outline">Data Link</a></p>
				<p> Data Preparation / Cleaning Using R Language --> <a href="https://github.com/sharan-naribole/H1B_visa_eda/blob/master/data_processing.md"> Courtesy </a></p>
				<p> Final project is the exact same rendition of MidTerm Project Using D3 <br> Midterm Project rendered using <a href="https://public.tableau.com/profile/somu.palaniappan#!/vizhome/CS498-DataViz-MidtermProject/Description"> Tableau </a></p>
				<p> Adopted Martini Glass Visualization structure, mentioned the jump off point in the story, and streamlined the readers in one direction to finish the story </p>
				<p> Join me in the journey of finding out answers to below questions using Data Visuvalization </p>
			</div>
		</div>

		<div id="fh5co-sayings">
			<div class="container">
				<div class="row to-animate">

					<div class="flexslider">
						<ul class="slides">
							
							<li>
								<blockquote>
									<p>&ldquo;For the past 6 years, how many LCA (Labor condition application) has been certified / denied? Is working with H1B visa risky?&rdquo;</p>
									<p class="quote-author">&mdash; Using Simple bar chart</p>
								</blockquote>
							</li>
							<li>
								<blockquote>
									<p>&ldquo;What are the top H1B jobs specifically for the year 2016? and whether Jobs related to Data Science pops out?
									If not, do further study on Data Science Job trends?&rdquo;</p>
									<p class="quote-author">&mdash; Using Bubble Chart</p>
								</blockquote>
							</li>
							<li>
								<blockquote>
									<p>&ldquo;Find Data Science job trends over the year 2011- 2016 by filtering out jobs with "Data" word in it, and analyze the wages to 
									answer questions like, are the pay increasing? number of data science job positions increases over the year?&rdquo;</p>
									<p class="quote-author">&mdash;Using ScatterPlot & Box Plot</p>
								</blockquote>
							</li>
							<li>
								<blockquote>
									<p>&ldquo;Find out top datascience job recruiting companies?&rdquo;</p>
									<p class="quote-author">&mdash;Using Bar Chart</p>
								</blockquote>
							</li>
							
							
						</ul>
					</div>

				</div>
			</div>
		</div>

		<div id="fh5co-featured" data-section="features">
			<div class="container">
				<div class="row text-center fh5co-heading row-padded">
					<div class="col-md-8 col-md-offset-2">
						<h2 class="heading to-animate">LCA Application Status</h2>
						<p><b>Parameters:</b>percentage count of the 4 nominal variable <br><b>Triggers:</b>Mouse over</p>
						<div id="tooltip"></div>
						<div id="barchart1"></div>
						<script>
							  var outerWidth = 760;
							  var outerHeight = 500;
							  var margin = { left: 90, top: 16, right: 30, bottom: 85 };
							  var barPadding = 0.2;

							  var xColumn_c1 = "CaseStatus";
							  var yColumn_c1 = "Percentage";
							  var colorColumn_c1 = "CaseStatus";

							  var innerWidth  = outerWidth  - margin.left - margin.right;
							  var innerHeight = outerHeight - margin.top  - margin.bottom;

							  var svg = d3.select("#barchart1").append("svg")
								.attr("width",  outerWidth)
								.attr("height", outerHeight);
							  var g = svg.append("g")
								.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
							  var xAxisG = g.append("g")
								.attr("class", "x axis")
								.attr("transform", "translate(0," + innerHeight + ")");
							  var yAxisG = g.append("g")
								.attr("class", "y axis");

							  
							  var tooltip = d3.select("#tooltip");


							  function render_c1(data){

								var xScale = d3.scaleBand().domain(data.map( function (d){ return d[xColumn_c1]; })).range([0, innerWidth], barPadding);
								var yScale = d3.scaleLinear().domain([0, d3.max(data, function (d){ return d[yColumn_c1]; })]).range([innerHeight, 0]);
								var colorScale = d3.scaleOrdinal().range(["green", "lightgreen", "orange", "red"]);
								colorScale.domain(data.map(function (d){ return d[colorColumn_c1]; }));

								var xAxis = d3.axisBottom(xScale);
								var yAxis = d3.axisLeft(yScale);
							
								xAxisG
								  .call(xAxis)
								  .selectAll("text")  
								  .attr("dx", "-0.4em")
								  .attr("dy", "1.24em")
								  .attr("transform", "rotate(0)" );

								yAxisG.call(yAxis);

								var bars = g.selectAll("rect").data(data);
								bars.enter().append("rect")
								  .attr("width", xScale.bandwidth())
								  .attr("x", function (d){ return xScale(d[xColumn_c1]); })
								  .attr("y", function (d){ return yScale(d[yColumn_c1]); })
								  .attr("height", function (d){ return innerHeight - yScale(d[yColumn_c1]); })
								  .attr("fill", function (d){ return colorScale(d[colorColumn_c1]); })
								  .on("mouseover", function(d) {
								tooltip.style("opacity", 1)
										//d3.event.pageY property was returning very high value(6000 instead of 600) that was causing the tooltip to display outside the browser
										//As a workaround, commented dynamic positioning of tooltip and made it to always display above the chart
									   //.style("left",(d3.event.pageX)+"px")
									   //.style("top",(d3.event.pageY)+"px")
									   .html(d[xColumn_c1]+"==>"+d[yColumn_c1]);
								})
								.on("mouseout", function() { tooltip.style("opacity", 0).style("background","white") })

								bars.exit().remove();
							  }

							  function type(d){
								d.population = +d.population;
								return d;
							  }

							  d3.csv("barchart_1.csv", type, render_c1);

						</script>
						<p class="sub-heading to-animate">About 88.7+6.7 = 95.4% of application got certified. Hence the risk is very low. </p>
					</div>
				</div>
				<div class="row">
				</div>
			</div>
		</div>

		<div id="fh5co-menus" data-section="menu">
			<div class="container">
				<div class="row text-center fh5co-heading row-padded">
					<div class="col-md-8 col-md-offset-2">
						<h2 class="heading to-animate">Top H1B Jobs</h2>
						<p><b>Parameters:</b>count of "Job Names" for the year 2016<br><b>Triggers:</b>Mouse over</p>
						<div id="bubble">
							<svg width="800" height="600" font-family="sans-serif" font-size="12" text-anchor="middle"></svg>
						</div>
						<script>

						var svg = d3.selectAll("#bubble").select("svg"),
							width = +svg.attr("width"),
							height = +svg.attr("height");

						var format = d3.format("d");

						//var color = d3.scaleOrdinal(d3.schemeCategory20c);
						var color = d3.scaleLinear()
									  .domain([5410, 53743])
									  .range(["orange", "green"]);

						var pack = d3.pack()
							.size([width, height])
							.padding(1.5);

						d3.csv("bubblechart.csv", function(d) {
						  d.value = +d.value;
						  if (d.value) return d;
						}, function(error, classes) {
						  if (error) throw error;

						  var root = d3.hierarchy({children: classes})
							  .sum(function(d) { return d.value; })
							  .each(function(d) {
								if (id = d.data.id) {
								  var id, i = id.lastIndexOf(".");
								  d.id = id;
								  d.package = id.slice(0, i);
								  d.class = id.slice(i + 1);
								}
							  });

						  var node = svg.selectAll(".node")
							.data(pack(root).leaves())
							.enter().append("g")
							  .attr("class", "node")
							  .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

						  node.append("circle")
							  .attr("id", function(d) { return d.id; })
							  .attr("r", function(d) { return d.r; })
							  .style("fill", function(d) { return color(d.value); });

						  node.append("clipPath")
							  .attr("id", function(d) { return d.id; })
							.append("use")
							  .attr("xlink:href", function(d) { return "#" + d.id; });

						  node.append("text")
							.attr("clip-path", function(d) { return  d.id; })
							.selectAll("tspan")
							.data(function(d) { return d.class.split(/(\s+)/g); })
							.enter().append("tspan")
							.attr("x", 0)
							.attr("y", function(d, i, nodes) { return 14 + (i - nodes.length / 2 - 0.5) * 10; })
							.text(function(d) { return d; });

						  node.append("title")
							  .text(function(d) { return d.id + "\n" + "Count:" + format(d.value); });
						});

						</script>
						<p class="sub-heading to-animate">Data Science job is not falling under top 10 H1B jobs. This is expected because datascience is emerging field. 
						Lets deep dive and see whether this is really true. </p>
					</div>
				</div>
			</div>
		</div>

		<div id="fh5co-events" data-section="events" style="background-image: url(images/slide_2.jpg);" data-stellar-background-ratio="0.5">
			<div class="fh5co-overlay"></div>
			<div class="container">
				<div class="row text-center fh5co-heading row-padded">
					<div class="col-md-8 col-md-offset-2 to-animate">
						<h2 class="heading">Data Science Job Trends</h2>
						<h3>Jump off point in Maritini Glass Visuvalization Structure.</h3>
						<p><b>Parameters:</b>Wages details for all Jobs with "Data" word in it for each year<br><b>Triggers:</b>Click to expand,mouseover for details,switch between 
						scatter and box plot,click and drag to filter years</p>
						<p><a href="/scatterplot"> Scatter Plot with D3 </a></p>
						<p><a href="/boxplot"> Click to expand & Play - Created using D3 PLUS</a></p>
						<div id="viz"></div>
						<script>
						function render(data){
						var visualization = d3plus.viz()
							.container("#viz")
							.data(data)
							.type("box")
							.id(["id","JobTitle","EmployerName"])
							.x("Year")
							.y("Wage")
							.time("Year")
							.ui([{ 
								"label": "Visualization Type",
								"method": "type", 
								"value": ["scatter","box"]
							}])
							.draw()
						}
						
							
							function type(d){
								d.Wage = +d.Wage;
								return d;
							}

							
							d3x.csv("boxplot.csv", type, render);
						</script>
						<p class="sub-heading">It is evident from scatter plots over the year 2011-2016 that the number of data science jobs are increasing exponentially. 
						[Visually it is clear by seeing number of data points that increases year over year] <br> Median salary fluctuates year over year [Box Plot] and there is no clear trend seen. 
						Lower end salaries are because the data includes part time jobs.</p>
					</div>
				</div>
			</div>
		</div>

		<div id="fh5co-contact" data-section="reservation">
			<div class="container">
				<div class="row text-center fh5co-heading row-padded">
					<div class="col-md-8 col-md-offset-2">
						<h2 class="heading to-animate">Top Data Science Job Recruiters</h2>
						<h3>Streamlining the readers towards conclusion</h3>
						<p><b>Parameters:</b>count of Employer who recruited for jobs with "Data" word in it for the year 2016<br><b>Triggers:</b>Mouse over</p>
						<!-- grpah code goes here-->						
						<div id="tooltip2"></div>
						<div id="barchart2" style="background-image: url(images/wood_1.png);"></div>
						<script>
						  var outerWidth = 760;
						  var outerHeight = 500;
						  var margin = { left: 90, top: 16, right: 30, bottom: 85 };
						  var barPadding = 0.2;

						  var xColumn = "EmployerName";
						  var yColumn = "Count";
						  var colorColumn = "EmployerName";

						  var innerWidth  = outerWidth  - margin.left - margin.right;
						  var innerHeight = outerHeight - margin.top  - margin.bottom;

						  var svg_c4 = d3.select("#barchart2").append("svg")
							.attr("width",  outerWidth)
							.attr("height", outerHeight);
						  var g_c4 = svg_c4.append("g")
							.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
						  var xAxisG1 = g_c4.append("g")
							.attr("class", "x axis")
							.attr("transform", "translate(0," + innerHeight + ")");
						  var yAxisG1 = g_c4.append("g")
							.attr("class", "y axis");

						  
						  var tooltip2 = d3.select("#tooltip2");


						  function render_c4(data){

							var xScale = d3.scaleBand().domain(data.map( function (d){ return d[xColumn]; })).range([0, innerWidth], barPadding);
							var yScale = d3.scaleLinear().domain([0, 16]).range([innerHeight, 0]);
							// var colorScale = d3.scale.category20();
							var colorScale = d3.scaleOrdinal(d3.schemeCategory20);
							colorScale.domain(data.map(function (d){ return d[colorColumn]; }));
							
							var xAxis1 = d3.axisBottom(xScale);
							var yAxis1 = d3.axisLeft(yScale);
						

							yAxisG1.call(yAxis1);

							var bars = g_c4.selectAll("rect").data(data);
							bars.enter().append("rect")
							  .attr("width", xScale.bandwidth())
							  .attr("x", function (d){ return xScale(d[xColumn]); })
							  .attr("y", function (d){ return yScale(d[yColumn]); })
							  .attr("height", function (d){ return innerHeight - yScale(d[yColumn]); })
							  .attr("fill", function (d){ return colorScale(d[colorColumn]); })
							  .on("mouseover", function(d) {
							tooltip2.style("opacity", 1)        
									//d3.event.pageY property was returning very high value(6000 instead of 600) that was causing the tooltip to display outside the browser
									//As a workaround, commented dynamic positioning of tooltip and made it to always display above the chart
									//.style("left",(d3.event.pageX)+"px")
									//.style("top",(d3.event.pageY)+"px")       
								   .html("Employer:"+d[xColumn]+"\n"+",Count:"+d[yColumn]);
							})
							.on("mouseout", function() { tooltip2.style("opacity", 0) })

							bars.exit().remove();
						  }

						  function type_c4(d){
							d.population = +d.population;
							return d;
						  }

						  d3.csv("barchart_2.csv", type_c4, render_c4);
					</script>
						<p class="sub-heading to-animate">when we mouseover, we can clearly see mixture of retail, technology, banking sector, Life insurance and consulting companies.</p>
					</div>
				</div>
				<div class="row">
					<div class="col-md-6 to-animate-2">
						<h3>Story Conclusion</h3>
						<p> Based on emerging number of data science job requirements, good median income, oppurtunities spread over different fields makes data science a lucrative, 
						futuristic job. <br> As per trend, we can expect data science to become one among top 10 H1B jobs with in 10 years of time frame. </p>
					</div>
					<div class="col-md-6 to-animate-2">
						<h3>Narrative Visualization Summary</h3>
						<h4>Adopted Martini Glass Visuvalization</h4>
						<li> <b>Scenes</b> are used in the form of scrolling slides </li>
						<li> <b>Annotations</b> are mostly in the form of tool tip and axis</li>
						<li> <b>Parameters</b> are specified for each chart </li>
						<li> <b>Triggers</b> are specified for each chart. scrolling is a trigger used navigate between slide shows </li>
					</div>
				</div>
			</div>
		</div>		
	</div>

	<div id="fh5co-footer">
		<div class="container">
			<div class="row row-padded">
				<div class="col-md-12 text-center">
					<p class="to-animate">&copy; 2017 Somu Palaniappan. <br> Design Credits <a href="http://freehtml5.co/" target="_blank">FREEHTML5.co</a> Modified by Somu Palaniappan</a> 
					</p>
				    <p class="to-animate">Bubble Chart Credits <a href="https://bl.ocks.org/mbostock/4063269" target="_blank">Mike Bostock</a> Modified by Somu Palaniappan</a></p>
					<p class="to-animate">Bar Chart Credits <a href="https://bl.ocks.org/flunky" target="_blank">Prof John C. Hart</a> Modified by Somu Palaniappan</a></p>
					<p class="to-animate">Box Plot Credits <a href="http://d3plus.org/examples/basic/78018ce8c3787d4e30d9/" target="_blank">Alexandersimoes</a> Modified by Somu Palaniappan</a></p>
					<p> Searched and worked for weeks to find box plot in d3 package that let the reader to play with (For Martini Glass Structure), After spending weeks of time, ended up using 
                        d3plus. Used d3 Plus only for Box plot chart mainly for the purpose of achieveing maritin glass structure.</p>
					<p class="text-center to-animate"><a href="#" class="js-gotop">Go To Top</a></p>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 text-center">
					<ul class="fh5co-social">
						<script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
						<script type="IN/MemberProfile" data-id="https://www.linkedin.com/in/somupalaniappan" data-format="hover" data-related="false"></script>
					</ul>
				</div>
			</div>
		</div>
	</div>


	
	
	
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Bootstrap DateTimePicker -->
	<script src="js/moment.js"></script>
	<script src="js/bootstrap-datetimepicker.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Stellar Parallax -->
	<script src="js/jquery.stellar.min.js"></script>

	<!-- Flexslider -->
	<script src="js/jquery.flexslider-min.js"></script>
	<script>
		$(function () {
	       $('#date').datetimepicker();
	   });
	</script>
	<!-- Main JS -->
	<script src="js/main.js"></script>

	</body>
</html>

